fn printf(str format, ...) -> i32;
fn malloc(i64 size) -> i8*;
fn free(i8* ptr);

struct Test {
    i32 a,
    Test* next
}

fn main() -> i32 {
    let Test* t = malloc(sizeof(Test)) as Test*;
    *t.a = 5;
    *t.next = t;

    printf("t.a = %d\n", *t.a);
    let Test* n = *t.next;
    let i32 a = *n.a;
    printf("t.a 2 = %d\n", a);
    return 0;
}
